# X680x0 C言語でハイメモリを使う方法

### はじめに

この覚書は、X680x0でハイメモリ(ローカルメモリ)を使ったソフトウェアをC言語で開発するためのものです。

自分が現役でX68000の実機を触っていた頃は、Xellent30という68030MPU搭載のアクセラレータボード上にわずかながらSRAMが載っており、
これをMMUありのMC68030に差し替えてメインメモリにマッピングしてアプリケーションを高速化して遊んでいた覚えがあります。

X680x0関連のハードウェアはその後も多くの種類がリリースされ、16MB~128MBものハイメモリを搭載するハードウェアが増えました。
発端となったのはツクモの拡張ボードだったようで、そこで採用されたIOCSコールの独自拡張が、その他のハイメモリ搭載ハードウェアでも互換で使えたようです。

---

### 準備

準備としてやることは2つです。

* ハイメモリ対応ハードウェアの導入、もしくはエミュレータの設定
* ハイメモリ対応のドライバをCONFIG.SYSに追加

例えばエミュレータXEiJであれば、MPUメニューから機種で060turboを選択し、設定メニューから060turboのハイメモリ容量を設定します。
その上でデバイスドライバ 060turbo.sys をCONFIG.SYSに追加する必要があります。

!()[./images/himem01.png]

!()[./images/himem02.png]

他の実機やエミュレータについてはそれぞれのドキュメントを参照してください。
